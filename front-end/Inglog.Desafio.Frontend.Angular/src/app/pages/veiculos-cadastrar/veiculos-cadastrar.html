<h2 class="text-2xl font-bold mb-6 text-slate-800">Cadastrar Veículo</h2>

<form [formGroup]="form" (ngSubmit)="submit()"
  class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 rounded-lg shadow-md">

  <div>
    <label class="block font-medium text-slate-700 mb-1">Chassi</label>
    <input formControlName="chassi" type="text"
      class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300" />
    @if (form.get('chassi')?.invalid && form.get('chassi')?.touched) {
    <p class="text-red-500 text-sm mt-1">Obrigatório</p>
    }
  </div>

  <div>
    <label class="block font-medium text-slate-700 mb-1">Tipo de Veículo</label>
    <select formControlName="tipoVeiculo"
      class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300">
      <option [value]="1">Onibus</option>
      <option [value]="2">Caminhão</option>
    </select>
  </div>

  <div>
    <label class="block font-medium text-slate-700 mb-1">Placa</label>
    <input formControlName="placa" placeholder="AAA-9A99"
      class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300" />
    @if (form.get('placa')?.invalid && form.get('placa')?.touched) {
    <p class="text-red-500 text-sm mt-1">Placa inválida</p>
    }
  </div>

  <div>
    <label class="block font-medium text-slate-700 mb-1">ID do Rastreador</label>
    <input formControlName="rastreador" type="text"
      class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300" />
    @if (form.get('rastreador')?.invalid && form.get('rastreador')?.touched) {
    <p class="text-red-500 text-sm mt-1">Obrigatório</p>
    }
  </div>

  <div>
    <label class="block font-medium text-slate-700 mb-1">Cor</label>
    <div class="flex items-center gap-3">
      <input formControlName="cor" type="color" class="w-12 h-12 border-none cursor-pointer rounded" />
      <span class="text-sm text-slate-700">
        {{ form.get('cor')?.value }}
      </span>
    </div>
  </div>

  <input formControlName="latitude" type="hidden"
    class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300" />

  <input formControlName="longitude" type="hidden"
    class="w-full border border-slate-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-sky-300" />

  <div class="md:col-span-2">
    <label class="block font-medium text-slate-700 mb-2">Selecionar Localização</label>
    <div id="mapa-cadastro" class="w-full h-64 rounded shadow-sm border border-slate-300"></div>
    <p class="text-sm mt-2 text-slate-600">Clique no mapa para selecionar as coordenadas.</p>
  </div>
  
  <div class="md:col-span-2 flex justify-end">
    <button type="submit"
      class="bg-sky-600 text-white px-6 py-2 rounded hover:bg-sky-700 transition disabled:opacity-50"
      [disabled]="form.invalid">Cadastrar</button>
  </div>
</form>